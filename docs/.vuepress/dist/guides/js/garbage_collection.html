<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>谈谈JS中的垃圾回收机制 | TOP-FE-IQA</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="Top X Front-End  Interview Questions and Answers">
    <link rel="preload" href="/assets/css/0.styles.a748b10c.css" as="style"><link rel="preload" href="/assets/js/app.06527024.js" as="script"><link rel="preload" href="/assets/js/2.be1a4e3a.js" as="script"><link rel="preload" href="/assets/js/55.4bdfc10e.js" as="script"><link rel="prefetch" href="/assets/js/10.b1d27394.js"><link rel="prefetch" href="/assets/js/100.ce3d5bd1.js"><link rel="prefetch" href="/assets/js/11.36f3f546.js"><link rel="prefetch" href="/assets/js/12.6fc44304.js"><link rel="prefetch" href="/assets/js/13.edb6a380.js"><link rel="prefetch" href="/assets/js/14.32d905d3.js"><link rel="prefetch" href="/assets/js/15.fb8751ba.js"><link rel="prefetch" href="/assets/js/16.d53a9b99.js"><link rel="prefetch" href="/assets/js/17.cfee367f.js"><link rel="prefetch" href="/assets/js/18.57b46b98.js"><link rel="prefetch" href="/assets/js/19.5f6c1ec1.js"><link rel="prefetch" href="/assets/js/20.1a38e484.js"><link rel="prefetch" href="/assets/js/21.44414be4.js"><link rel="prefetch" href="/assets/js/22.e8583e00.js"><link rel="prefetch" href="/assets/js/23.3a02411d.js"><link rel="prefetch" href="/assets/js/24.3d9e008e.js"><link rel="prefetch" href="/assets/js/25.031605c2.js"><link rel="prefetch" href="/assets/js/26.c1f8d597.js"><link rel="prefetch" href="/assets/js/27.c26d8eb7.js"><link rel="prefetch" href="/assets/js/28.da439d0c.js"><link rel="prefetch" href="/assets/js/29.846c5219.js"><link rel="prefetch" href="/assets/js/3.6891ca5a.js"><link rel="prefetch" href="/assets/js/30.555cb7d8.js"><link rel="prefetch" href="/assets/js/31.a00ae083.js"><link rel="prefetch" href="/assets/js/32.59824dae.js"><link rel="prefetch" href="/assets/js/33.d96f9909.js"><link rel="prefetch" href="/assets/js/34.9373d8f4.js"><link rel="prefetch" href="/assets/js/35.cebade29.js"><link rel="prefetch" href="/assets/js/36.ac70a868.js"><link rel="prefetch" href="/assets/js/37.a7a6917e.js"><link rel="prefetch" href="/assets/js/38.99f95504.js"><link rel="prefetch" href="/assets/js/39.c200a0e3.js"><link rel="prefetch" href="/assets/js/4.2d7b3ab8.js"><link rel="prefetch" href="/assets/js/40.b666bd70.js"><link rel="prefetch" href="/assets/js/41.3c43d819.js"><link rel="prefetch" href="/assets/js/42.00812754.js"><link rel="prefetch" href="/assets/js/43.d058b8e3.js"><link rel="prefetch" href="/assets/js/44.fdf14993.js"><link rel="prefetch" href="/assets/js/45.435b55d4.js"><link rel="prefetch" href="/assets/js/46.5800c7a9.js"><link rel="prefetch" href="/assets/js/47.9490f850.js"><link rel="prefetch" href="/assets/js/48.564def0d.js"><link rel="prefetch" href="/assets/js/49.d0a8661a.js"><link rel="prefetch" href="/assets/js/5.80ccce99.js"><link rel="prefetch" href="/assets/js/50.1620ed2c.js"><link rel="prefetch" href="/assets/js/51.07802042.js"><link rel="prefetch" href="/assets/js/52.ed0d2680.js"><link rel="prefetch" href="/assets/js/53.f56d3974.js"><link rel="prefetch" href="/assets/js/54.ae713fb7.js"><link rel="prefetch" href="/assets/js/56.27b4b261.js"><link rel="prefetch" href="/assets/js/57.99b14dd2.js"><link rel="prefetch" href="/assets/js/58.6eafe902.js"><link rel="prefetch" href="/assets/js/59.f42f8172.js"><link rel="prefetch" href="/assets/js/6.ecda80e6.js"><link rel="prefetch" href="/assets/js/60.6b41577e.js"><link rel="prefetch" href="/assets/js/61.35e028db.js"><link rel="prefetch" href="/assets/js/62.aea20c8c.js"><link rel="prefetch" href="/assets/js/63.ff73f896.js"><link rel="prefetch" href="/assets/js/64.933fd5d3.js"><link rel="prefetch" href="/assets/js/65.ff1a6438.js"><link rel="prefetch" href="/assets/js/66.f30e8beb.js"><link rel="prefetch" href="/assets/js/67.f0cbd400.js"><link rel="prefetch" href="/assets/js/68.4fafe01f.js"><link rel="prefetch" href="/assets/js/69.0b2eb282.js"><link rel="prefetch" href="/assets/js/7.c2760c65.js"><link rel="prefetch" href="/assets/js/70.65e0f501.js"><link rel="prefetch" href="/assets/js/71.cb5c4275.js"><link rel="prefetch" href="/assets/js/72.0cd55dcb.js"><link rel="prefetch" href="/assets/js/73.b5b22c5e.js"><link rel="prefetch" href="/assets/js/74.0b5b5510.js"><link rel="prefetch" href="/assets/js/75.e08ae12d.js"><link rel="prefetch" href="/assets/js/76.4fe1d01c.js"><link rel="prefetch" href="/assets/js/77.057a691f.js"><link rel="prefetch" href="/assets/js/78.fd937e85.js"><link rel="prefetch" href="/assets/js/79.02bc11fd.js"><link rel="prefetch" href="/assets/js/8.126a031f.js"><link rel="prefetch" href="/assets/js/80.a65847e4.js"><link rel="prefetch" href="/assets/js/81.75de558f.js"><link rel="prefetch" href="/assets/js/82.68f92944.js"><link rel="prefetch" href="/assets/js/83.5a67ba91.js"><link rel="prefetch" href="/assets/js/84.e42a6c85.js"><link rel="prefetch" href="/assets/js/85.e703f158.js"><link rel="prefetch" href="/assets/js/86.c08974ab.js"><link rel="prefetch" href="/assets/js/87.ed37167d.js"><link rel="prefetch" href="/assets/js/88.a7c3a374.js"><link rel="prefetch" href="/assets/js/89.327dbc04.js"><link rel="prefetch" href="/assets/js/9.a71a7fa4.js"><link rel="prefetch" href="/assets/js/90.cf98dd80.js"><link rel="prefetch" href="/assets/js/91.1d8b486c.js"><link rel="prefetch" href="/assets/js/92.4dc5c396.js"><link rel="prefetch" href="/assets/js/93.be91f2c1.js"><link rel="prefetch" href="/assets/js/94.69047918.js"><link rel="prefetch" href="/assets/js/95.555e6aea.js"><link rel="prefetch" href="/assets/js/96.2cf4886d.js"><link rel="prefetch" href="/assets/js/97.4914b9ef.js"><link rel="prefetch" href="/assets/js/98.4a53e600.js"><link rel="prefetch" href="/assets/js/99.234f1a95.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a748b10c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">TOP-FE-IQA</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="https://github.com/yayxs/top-fe-iqa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="https://github.com/yayxs/top-fe-iqa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/" aria-current="page" class="sidebar-link">食用指南</a></li><li><a href="/guides/contact.html" class="sidebar-link">前端互鱼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML/HTML5</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/html/" class="sidebar-link">HTML常考面试题汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS/CSS3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/css/box_model.html" class="sidebar-link">是否了解盒模型 介绍一下标准的 CSS 盒子模型 与低版本的 IE 盒子模型有什么不同 box-sizing常用的属性有哪些? 分别有啥作用?</a></li><li><a href="/guides/css/bfc.html" class="sidebar-link">你知道什么是 BFC 吗 BFC 的布局规则是什么？如何创建 BFC？</a></li><li><a href="/guides/css/center.html" class="sidebar-link">css布局方式水平垂直布局的实现</a></li><li><a href="/guides/css/selector.html" class="sidebar-link">请说说css的选择器以及选择器优先级</a></li><li><a href="/guides/css/clearfix.html" class="sidebar-link">什么时候清除浮动？如何清除浮动？原理是什么</a></li><li><a href="/guides/css/hide.html" class="sidebar-link">隐藏页面中的元素有哪些方式?</a></li><li><a href="/guides/css/position.html" class="sidebar-link">请你说说css的定位position</a></li><li><a href="/guides/css/display.html" class="sidebar-link">display有哪些值，以及作用</a></li><li><a href="/guides/css/float.html" class="sidebar-link">浮动元素和绝对定位元素的区别和应用?</a></li><li><a href="/guides/css/normalize.html" class="sidebar-link">css reset 和 normalize.css 有什么区别</a></li><li><a href="/guides/css/link_import.html" class="sidebar-link">Link 与 @import导入css的区别</a></li><li><a href="/guides/css/triangle.html" class="sidebar-link">请利用纯css画一个三角形，原理是什么</a></li><li><a href="/guides/css/z_index.html" class="sidebar-link">z-index 有什么需要注意的地方</a></li><li><a href="/guides/css/unit.html" class="sidebar-link">css单位有哪些以及它们的区别</a></li><li><a href="/guides/css/font.html" class="sidebar-link">在网页中的应该使用奇数还是偶数的字体？自定义字体的使用场景</a></li><li><a href="/guides/css/vertical_align.html" class="sidebar-link">CSS 中的 vertical-align 有哪些值？它在什么情况下才能生效？</a></li><li><a href="/guides/css/img.html" class="sidebar-link">img 下的间隙3px的原理</a></li><li><a href="/guides/css/base64.html" class="sidebar-link">谈谈你对base64 的理解以及使用场景</a></li><li><a href="/guides/css/pseudo_classes_elements.html" class="sidebar-link">伪类和伪元素的区别是什么呢 ？css3 新增的伪类有哪些</a></li><li><a href="/guides/css/flex.html" class="sidebar-link">请你谈谈Flexbox布局</a></li><li><a href="/guides/css/responsive.html" class="sidebar-link">如何理解响应式与是自适应</a></li><li><a href="/guides/css/animation.html" class="sidebar-link">css中动画常考面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript/ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/js/type_of_data.html" class="sidebar-link">JavaScript的数据类型有哪些,存储有什么区别？</a></li><li><a href="/guides/js/0.3.html" class="sidebar-link">不精确的计算之为什么 0.1 + 0.2 != 0.3</a></li><li><a href="/guides/js/var_let_const.html" class="sidebar-link">var、let 和 const 区别的实现原理是?</a></li><li><a href="/guides/js/null_undefined.html" class="sidebar-link">null和undefined有什么区别</a></li><li><a href="/guides/js/typeof_instanceof.html" class="sidebar-link">typeof 和 instance of 检测数据类型有什么区别？</a></li><li><a href="/guides/js/map.html" class="sidebar-link">Set、Map、WeakSet 和 WeakMap 的区别</a></li><li><a href="/guides/js/scope.html" class="sidebar-link">谈谈作用域与作用域链的理解，如何理解?</a></li><li><a href="/guides/js/es6.html" class="sidebar-link">es6 的新特性都有哪些？</a></li><li><a href="/guides/js/cycle.html" class="sidebar-link">for..of, for..in和 forEach,map 的区别</a></li><li><a href="/guides/js/create_obj.html" class="sidebar-link">创建对象的方式</a></li><li><a href="/guides/js/equalityOperator.html" class="sidebar-link">==和===区别是什么？</a></li><li><a href="/guides/js/use_strict.html" class="sidebar-link">严格模式对函数有哪些限制</a></li><li><a href="/guides/js/func_args.html" class="sidebar-link">函数的参数以什么方式传递的</a></li><li><a href="/guides/js/context.html" class="sidebar-link">说说你对执行上下文的理解?</a></li><li><a href="/guides/js/hoisting.html" class="sidebar-link">JS中的变量声明提升</a></li><li><a href="/guides/js/for_var.html" class="sidebar-link">网红经典面试题：for循环中的var声明</a></li><li><a href="/guides/js/garbage_collection.html" aria-current="page" class="active sidebar-link">谈谈JS中的垃圾回收机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/js/garbage_collection.html#标记清理" class="sidebar-link">标记清理</a></li><li class="sidebar-sub-header"><a href="/guides/js/garbage_collection.html#引用计数" class="sidebar-link">引用计数</a></li></ul></li><li><a href="/guides/js/performance.html" class="sidebar-link">如何提升 JavaScript 变量的存储性能？</a></li><li><a href="/guides/js/ram.html" class="sidebar-link">JS中的内存泄漏的理解？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>专题系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/js/array/" class="sidebar-link">数组常考面试题汇总</a></li><li><a href="/guides/optimization/" class="sidebar-link">性能优化常考面试题汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔试手写</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/written/debounce.html" class="sidebar-link">手写实现防抖函数（debounce）</a></li><li><a href="/guides/written/throttle.html" class="sidebar-link">手写实现节流函数（throttle）</a></li><li><a href="/guides/written/clone.html" class="sidebar-link">手写实现深浅拷贝（深浅克隆）</a></li><li><a href="/guides/written/new.html" class="sidebar-link">手写实现New操作符</a></li><li><a href="/guides/written/call.html" class="sidebar-link">手写实现call与apply</a></li><li><a href="/guides/written/bind.html" class="sidebar-link">手写实现bind 函数</a></li><li><a href="/guides/written/instanceof.html" class="sidebar-link">手写实现instanceof运算符</a></li><li><a href="/guides/written/trim.html" class="sidebar-link">手写实现trim方法</a></li><li><a href="/guides/written/event.html" class="sidebar-link">手写实现EventBus/EventEmitter</a></li><li><a href="/guides/written/unique.html" class="sidebar-link">手写实现数组去重的方法</a></li><li><a href="/guides/written/promise.html" class="sidebar-link">手写实现promise</a></li><li><a href="/guides/written/promise_all.html" class="sidebar-link">手动实现promise.all</a></li><li><a href="/guides/written/promise_finally.html" class="sidebar-link">手动实现promise.finally</a></li><li><a href="/guides/written/triangle.html" class="sidebar-link">手写实现输出由*号组成的三角形</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/network/http/input_url.html" class="sidebar-link">当在网页浏览器的地址栏输入url后，发生了什么？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>设计模式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/design_patterns/" class="sidebar-link">JavaScript设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>框架VUE</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/vue/communication.html" class="sidebar-link">Vue 组件中的参数如何传递？如何进行通信</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WebPack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>场景题目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/scene/00.html" class="sidebar-link">递归删除null 节点（node）</a></li><li><a href="/guides/scene/01.html" class="sidebar-link">判断字符串是否为合法的IP地址</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>JS不同于C和C++ 自动管理内存分配和闲置资源 的回收：确定哪个变量没有再被使用，然后释放占用的内存</p> <ul><li>周期性 每隔一定的时间自动运行 周而复始 从一而终</li> <li>算法  简单的靠算法 不能够准备正确的定位某块内存是否正在使用，存在一定的不可预判性</li></ul> <p>函数中的局部变量在使用之后就不再需要了，一般来说可以正常的释放掉，但是不是唯一的，需要内部去跟踪标记，大致有两种方式</p> <h2 id="标记清理"><a href="#标记清理" class="header-anchor">#</a> 标记清理</h2> <p>当变量进入上下文标记一下 理论上可能会被用到 ，离开的时候再标记一下，在任何的上下文中都找不到他们了就开始清理</p> <h2 id="引用计数"><a href="#引用计数" class="header-anchor">#</a> 引用计数</h2> <p>记录一个变量被引用的次数，引用数+1 当当前的引用数是0的时候，就是访问不到这个变量了，存在循环引用的问题</p> <ul><li>离开作用域的值会被自动标记为可回收，然后在垃圾回收期间被删除。</li> <li>主流的垃圾回收算法是标记清理，即先给当前不使用的值加上标记，再回来回收它们的内存。</li> <li>引用计数是另一种垃圾回收策略，需要记录值被引用了多少次。JavaScript引擎不再使用这种算法，但某些旧版本的IE-仍然会受这种算法的影响，原因是JavaScript会访问非原生JavaScript对象（如DOM元素）。</li> <li>引用计数在代码中存在循环引用时会出现问题。</li> <li>解除变量的引用不仅可以消除循环引用，而且对垃圾回收也有帮助。为促进内存回收，全局对象、全局对象的属性和循环引用都应该在不需要时解除引用。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/js/for_var.html" class="prev">
        网红经典面试题：for循环中的var声明
      </a></span> <span class="next"><a href="/guides/js/performance.html">
        如何提升 JavaScript 变量的存储性能？
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.06527024.js" defer></script><script src="/assets/js/2.be1a4e3a.js" defer></script><script src="/assets/js/55.4bdfc10e.js" defer></script>
  </body>
</html>
