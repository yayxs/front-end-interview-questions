<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数组常考面试题汇总 | TOP-FE-IQA</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="Top X Front-End  Interview Questions and Answers">
    <link rel="preload" href="/assets/css/0.styles.a748b10c.css" as="style"><link rel="preload" href="/assets/js/app.06527024.js" as="script"><link rel="preload" href="/assets/js/2.be1a4e3a.js" as="script"><link rel="preload" href="/assets/js/46.5800c7a9.js" as="script"><link rel="prefetch" href="/assets/js/10.b1d27394.js"><link rel="prefetch" href="/assets/js/100.ce3d5bd1.js"><link rel="prefetch" href="/assets/js/11.36f3f546.js"><link rel="prefetch" href="/assets/js/12.6fc44304.js"><link rel="prefetch" href="/assets/js/13.edb6a380.js"><link rel="prefetch" href="/assets/js/14.32d905d3.js"><link rel="prefetch" href="/assets/js/15.fb8751ba.js"><link rel="prefetch" href="/assets/js/16.d53a9b99.js"><link rel="prefetch" href="/assets/js/17.cfee367f.js"><link rel="prefetch" href="/assets/js/18.57b46b98.js"><link rel="prefetch" href="/assets/js/19.5f6c1ec1.js"><link rel="prefetch" href="/assets/js/20.1a38e484.js"><link rel="prefetch" href="/assets/js/21.44414be4.js"><link rel="prefetch" href="/assets/js/22.e8583e00.js"><link rel="prefetch" href="/assets/js/23.3a02411d.js"><link rel="prefetch" href="/assets/js/24.3d9e008e.js"><link rel="prefetch" href="/assets/js/25.031605c2.js"><link rel="prefetch" href="/assets/js/26.c1f8d597.js"><link rel="prefetch" href="/assets/js/27.c26d8eb7.js"><link rel="prefetch" href="/assets/js/28.da439d0c.js"><link rel="prefetch" href="/assets/js/29.846c5219.js"><link rel="prefetch" href="/assets/js/3.6891ca5a.js"><link rel="prefetch" href="/assets/js/30.555cb7d8.js"><link rel="prefetch" href="/assets/js/31.a00ae083.js"><link rel="prefetch" href="/assets/js/32.59824dae.js"><link rel="prefetch" href="/assets/js/33.d96f9909.js"><link rel="prefetch" href="/assets/js/34.9373d8f4.js"><link rel="prefetch" href="/assets/js/35.cebade29.js"><link rel="prefetch" href="/assets/js/36.ac70a868.js"><link rel="prefetch" href="/assets/js/37.a7a6917e.js"><link rel="prefetch" href="/assets/js/38.99f95504.js"><link rel="prefetch" href="/assets/js/39.c200a0e3.js"><link rel="prefetch" href="/assets/js/4.2d7b3ab8.js"><link rel="prefetch" href="/assets/js/40.b666bd70.js"><link rel="prefetch" href="/assets/js/41.3c43d819.js"><link rel="prefetch" href="/assets/js/42.00812754.js"><link rel="prefetch" href="/assets/js/43.d058b8e3.js"><link rel="prefetch" href="/assets/js/44.fdf14993.js"><link rel="prefetch" href="/assets/js/45.435b55d4.js"><link rel="prefetch" href="/assets/js/47.9490f850.js"><link rel="prefetch" href="/assets/js/48.564def0d.js"><link rel="prefetch" href="/assets/js/49.d0a8661a.js"><link rel="prefetch" href="/assets/js/5.80ccce99.js"><link rel="prefetch" href="/assets/js/50.1620ed2c.js"><link rel="prefetch" href="/assets/js/51.07802042.js"><link rel="prefetch" href="/assets/js/52.ed0d2680.js"><link rel="prefetch" href="/assets/js/53.f56d3974.js"><link rel="prefetch" href="/assets/js/54.ae713fb7.js"><link rel="prefetch" href="/assets/js/55.4bdfc10e.js"><link rel="prefetch" href="/assets/js/56.27b4b261.js"><link rel="prefetch" href="/assets/js/57.99b14dd2.js"><link rel="prefetch" href="/assets/js/58.6eafe902.js"><link rel="prefetch" href="/assets/js/59.f42f8172.js"><link rel="prefetch" href="/assets/js/6.ecda80e6.js"><link rel="prefetch" href="/assets/js/60.6b41577e.js"><link rel="prefetch" href="/assets/js/61.35e028db.js"><link rel="prefetch" href="/assets/js/62.aea20c8c.js"><link rel="prefetch" href="/assets/js/63.ff73f896.js"><link rel="prefetch" href="/assets/js/64.933fd5d3.js"><link rel="prefetch" href="/assets/js/65.ff1a6438.js"><link rel="prefetch" href="/assets/js/66.f30e8beb.js"><link rel="prefetch" href="/assets/js/67.f0cbd400.js"><link rel="prefetch" href="/assets/js/68.4fafe01f.js"><link rel="prefetch" href="/assets/js/69.0b2eb282.js"><link rel="prefetch" href="/assets/js/7.c2760c65.js"><link rel="prefetch" href="/assets/js/70.65e0f501.js"><link rel="prefetch" href="/assets/js/71.cb5c4275.js"><link rel="prefetch" href="/assets/js/72.0cd55dcb.js"><link rel="prefetch" href="/assets/js/73.b5b22c5e.js"><link rel="prefetch" href="/assets/js/74.0b5b5510.js"><link rel="prefetch" href="/assets/js/75.e08ae12d.js"><link rel="prefetch" href="/assets/js/76.4fe1d01c.js"><link rel="prefetch" href="/assets/js/77.057a691f.js"><link rel="prefetch" href="/assets/js/78.fd937e85.js"><link rel="prefetch" href="/assets/js/79.02bc11fd.js"><link rel="prefetch" href="/assets/js/8.126a031f.js"><link rel="prefetch" href="/assets/js/80.a65847e4.js"><link rel="prefetch" href="/assets/js/81.75de558f.js"><link rel="prefetch" href="/assets/js/82.68f92944.js"><link rel="prefetch" href="/assets/js/83.5a67ba91.js"><link rel="prefetch" href="/assets/js/84.e42a6c85.js"><link rel="prefetch" href="/assets/js/85.e703f158.js"><link rel="prefetch" href="/assets/js/86.c08974ab.js"><link rel="prefetch" href="/assets/js/87.ed37167d.js"><link rel="prefetch" href="/assets/js/88.a7c3a374.js"><link rel="prefetch" href="/assets/js/89.327dbc04.js"><link rel="prefetch" href="/assets/js/9.a71a7fa4.js"><link rel="prefetch" href="/assets/js/90.cf98dd80.js"><link rel="prefetch" href="/assets/js/91.1d8b486c.js"><link rel="prefetch" href="/assets/js/92.4dc5c396.js"><link rel="prefetch" href="/assets/js/93.be91f2c1.js"><link rel="prefetch" href="/assets/js/94.69047918.js"><link rel="prefetch" href="/assets/js/95.555e6aea.js"><link rel="prefetch" href="/assets/js/96.2cf4886d.js"><link rel="prefetch" href="/assets/js/97.4914b9ef.js"><link rel="prefetch" href="/assets/js/98.4a53e600.js"><link rel="prefetch" href="/assets/js/99.234f1a95.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a748b10c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">TOP-FE-IQA</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="https://github.com/yayxs/top-fe-iqa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="https://github.com/yayxs/top-fe-iqa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/" aria-current="page" class="sidebar-link">食用指南</a></li><li><a href="/guides/contact.html" class="sidebar-link">前端互鱼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML/HTML5</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/html/" class="sidebar-link">HTML常考面试题汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS/CSS3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/css/box_model.html" class="sidebar-link">是否了解盒模型 介绍一下标准的 CSS 盒子模型 与低版本的 IE 盒子模型有什么不同 box-sizing常用的属性有哪些? 分别有啥作用?</a></li><li><a href="/guides/css/bfc.html" class="sidebar-link">你知道什么是 BFC 吗 BFC 的布局规则是什么？如何创建 BFC？</a></li><li><a href="/guides/css/center.html" class="sidebar-link">css布局方式水平垂直布局的实现</a></li><li><a href="/guides/css/selector.html" class="sidebar-link">请说说css的选择器以及选择器优先级</a></li><li><a href="/guides/css/clearfix.html" class="sidebar-link">什么时候清除浮动？如何清除浮动？原理是什么</a></li><li><a href="/guides/css/hide.html" class="sidebar-link">隐藏页面中的元素有哪些方式?</a></li><li><a href="/guides/css/position.html" class="sidebar-link">请你说说css的定位position</a></li><li><a href="/guides/css/display.html" class="sidebar-link">display有哪些值，以及作用</a></li><li><a href="/guides/css/float.html" class="sidebar-link">浮动元素和绝对定位元素的区别和应用?</a></li><li><a href="/guides/css/normalize.html" class="sidebar-link">css reset 和 normalize.css 有什么区别</a></li><li><a href="/guides/css/link_import.html" class="sidebar-link">Link 与 @import导入css的区别</a></li><li><a href="/guides/css/triangle.html" class="sidebar-link">请利用纯css画一个三角形，原理是什么</a></li><li><a href="/guides/css/z_index.html" class="sidebar-link">z-index 有什么需要注意的地方</a></li><li><a href="/guides/css/unit.html" class="sidebar-link">css单位有哪些以及它们的区别</a></li><li><a href="/guides/css/font.html" class="sidebar-link">在网页中的应该使用奇数还是偶数的字体？自定义字体的使用场景</a></li><li><a href="/guides/css/vertical_align.html" class="sidebar-link">CSS 中的 vertical-align 有哪些值？它在什么情况下才能生效？</a></li><li><a href="/guides/css/img.html" class="sidebar-link">img 下的间隙3px的原理</a></li><li><a href="/guides/css/base64.html" class="sidebar-link">谈谈你对base64 的理解以及使用场景</a></li><li><a href="/guides/css/pseudo_classes_elements.html" class="sidebar-link">伪类和伪元素的区别是什么呢 ？css3 新增的伪类有哪些</a></li><li><a href="/guides/css/flex.html" class="sidebar-link">请你谈谈Flexbox布局</a></li><li><a href="/guides/css/responsive.html" class="sidebar-link">如何理解响应式与是自适应</a></li><li><a href="/guides/css/animation.html" class="sidebar-link">css中动画常考面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript/ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/js/type_of_data.html" class="sidebar-link">JavaScript的数据类型有哪些,存储有什么区别？</a></li><li><a href="/guides/js/0.3.html" class="sidebar-link">不精确的计算之为什么 0.1 + 0.2 != 0.3</a></li><li><a href="/guides/js/var_let_const.html" class="sidebar-link">var、let 和 const 区别的实现原理是?</a></li><li><a href="/guides/js/null_undefined.html" class="sidebar-link">null和undefined有什么区别</a></li><li><a href="/guides/js/typeof_instanceof.html" class="sidebar-link">typeof 和 instance of 检测数据类型有什么区别？</a></li><li><a href="/guides/js/map.html" class="sidebar-link">Set、Map、WeakSet 和 WeakMap 的区别</a></li><li><a href="/guides/js/scope.html" class="sidebar-link">谈谈作用域与作用域链的理解，如何理解?</a></li><li><a href="/guides/js/es6.html" class="sidebar-link">es6 的新特性都有哪些？</a></li><li><a href="/guides/js/cycle.html" class="sidebar-link">for..of, for..in和 forEach,map 的区别</a></li><li><a href="/guides/js/create_obj.html" class="sidebar-link">创建对象的方式</a></li><li><a href="/guides/js/equalityOperator.html" class="sidebar-link">==和===区别是什么？</a></li><li><a href="/guides/js/use_strict.html" class="sidebar-link">严格模式对函数有哪些限制</a></li><li><a href="/guides/js/func_args.html" class="sidebar-link">函数的参数以什么方式传递的</a></li><li><a href="/guides/js/context.html" class="sidebar-link">说说你对执行上下文的理解?</a></li><li><a href="/guides/js/hoisting.html" class="sidebar-link">JS中的变量声明提升</a></li><li><a href="/guides/js/for_var.html" class="sidebar-link">网红经典面试题：for循环中的var声明</a></li><li><a href="/guides/js/garbage_collection.html" class="sidebar-link">谈谈JS中的垃圾回收机制</a></li><li><a href="/guides/js/performance.html" class="sidebar-link">如何提升 JavaScript 变量的存储性能？</a></li><li><a href="/guides/js/ram.html" class="sidebar-link">JS中的内存泄漏的理解？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>专题系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/js/array/" aria-current="page" class="active sidebar-link">数组常考面试题汇总</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/js/array/#什么是-javascript-中的数组" class="sidebar-link">什么是 JavaScript 中的数组</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#javascript-中的数组是如何存储的" class="sidebar-link">JavaScript 中的数组是如何存储的</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#数组的哪些-api-会改变原数组" class="sidebar-link">数组的哪些 API 会改变原数组？</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#计算两个数组的交集" class="sidebar-link">计算两个数组的交集</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#类数组-伪数组-和数组的区别是什么" class="sidebar-link">类数组（伪数组）和数组的区别是什么？</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#判断一个-js-元素是否是数组" class="sidebar-link">判断一个 JS 元素是否是数组？</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#title-判断数组的方法-如何检测数组" class="sidebar-link">title: 判断数组的方法?如何检测数组</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#instanceof-操作符" class="sidebar-link">instanceof 操作符</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#array-isarray" class="sidebar-link">Array.isArray()</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#使用sort对数组进行排序-3-15-8-29-102-22" class="sidebar-link">使用sort对数组进行排序[3,15,8,29,102,22]</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#数组里面有-10-万个数据-取第一个元素和第-10-万个元素的时间相差多少" class="sidebar-link">数组里面有 10 万个数据，取第一个元素和第 10 万个元素的时间相差多少</a></li><li class="sidebar-sub-header"><a href="/guides/js/array/#谈谈数组中的-push-方法" class="sidebar-link">谈谈数组中的 push 方法</a></li></ul></li><li><a href="/guides/optimization/" class="sidebar-link">性能优化常考面试题汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔试手写</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/written/debounce.html" class="sidebar-link">手写实现防抖函数（debounce）</a></li><li><a href="/guides/written/throttle.html" class="sidebar-link">手写实现节流函数（throttle）</a></li><li><a href="/guides/written/clone.html" class="sidebar-link">手写实现深浅拷贝（深浅克隆）</a></li><li><a href="/guides/written/new.html" class="sidebar-link">手写实现New操作符</a></li><li><a href="/guides/written/call.html" class="sidebar-link">手写实现call与apply</a></li><li><a href="/guides/written/bind.html" class="sidebar-link">手写实现bind 函数</a></li><li><a href="/guides/written/instanceof.html" class="sidebar-link">手写实现instanceof运算符</a></li><li><a href="/guides/written/trim.html" class="sidebar-link">手写实现trim方法</a></li><li><a href="/guides/written/event.html" class="sidebar-link">手写实现EventBus/EventEmitter</a></li><li><a href="/guides/written/unique.html" class="sidebar-link">手写实现数组去重的方法</a></li><li><a href="/guides/written/promise.html" class="sidebar-link">手写实现promise</a></li><li><a href="/guides/written/promise_all.html" class="sidebar-link">手动实现promise.all</a></li><li><a href="/guides/written/promise_finally.html" class="sidebar-link">手动实现promise.finally</a></li><li><a href="/guides/written/triangle.html" class="sidebar-link">手写实现输出由*号组成的三角形</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/network/http/input_url.html" class="sidebar-link">当在网页浏览器的地址栏输入url后，发生了什么？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>设计模式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/design_patterns/" class="sidebar-link">JavaScript设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>框架VUE</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/vue/communication.html" class="sidebar-link">Vue 组件中的参数如何传递？如何进行通信</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WebPack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>场景题目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/scene/00.html" class="sidebar-link">递归删除null 节点（node）</a></li><li><a href="/guides/scene/01.html" class="sidebar-link">判断字符串是否为合法的IP地址</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="什么是-javascript-中的数组"><a href="#什么是-javascript-中的数组" class="header-anchor">#</a> 什么是 JavaScript 中的数组</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <h3 id="什么-是数组"><a href="#什么-是数组" class="header-anchor">#</a> 什么 是数组</h3> <blockquote><p>数组（英语：Array），是由相同类型的元素（element）的集合所组成的数据结构，分配一块连续的内存来存储.它能存储有序的集合</p></blockquote> <p><img src="https://raw.githubusercontent.com/yayxs/Pics/master/img/20200426202840.png" alt="20200426202840"></p> <p><strong>以上是 js 数组在内存中大致位置</strong> ，或者</p> <blockquote><p>Chrome 浏览器 JS 引擎 V8 中，数组有两种存储模式，一种是类似 C 语言中的线性结构存储（索引值连续，且都是正整数的情况下），一种是采用 Hash 结构存储（索引值为负数，数组稀疏，间隔比较大）</p></blockquote> <p>为什么这么说，因为在<code>js</code> 中 数组的存储</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// The JSArray describes JavaScript Arrays</span>
<span class="token comment">//  Such an array can be in one of two modes:</span>
<span class="token comment">//    - fast, backing storage is a FixedArray and length &lt;= elements.length();</span>
<span class="token comment">// 存储结构是 FixedArray ，并且数组长度 &lt;= elements.length() ，push 或 pop 时可能会伴随着动态扩容或减容</span>

<span class="token comment">//       Please note: push and pop can be used to grow and shrink the array.</span>
<span class="token comment">//    - slow, backing storage is a HashTable with numbers as keys</span>
<span class="token comment">// 存储结构是 HashTable（哈希表），并且数组下标作为 key</span>
<span class="token keyword">class</span> <span class="token class-name">JSArray</span><span class="token operator">:</span> <span class="token keyword">public</span> JSObject <span class="token punctuation">{</span>
 <span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token comment">// [length]: The length property.</span>
  <span class="token constant">DECL_ACCESSORS</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> Object<span class="token punctuation">)</span>

  <span class="token comment">// ...</span>

  <span class="token comment">// Number of element slots to pre-allocate for an empty array.</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> int kPreallocatedArrayElements <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>意思是说，我们可以看到 <code>JSArray</code> 是继承自 <code>JSObject</code> 的，所以在 JavaScript 中，数组可以是一个特殊的对象，内部也是以 key-value 形式存储数据，所以 JavaScript 中的数组可以存放不同类型的值</p> <h3 id="数组的优点"><a href="#数组的优点" class="header-anchor">#</a> 数组的优点</h3> <ul><li>随机访问：可以通过下标随机访问数组中的任意位置上的数据</li></ul> <p><strong>根据下标随机访问的时间复杂度为 O(1)</strong></p> <h3 id="数组特性"><a href="#数组特性" class="header-anchor">#</a> 数组特性</h3> <ul><li>数组插入</li></ul> <p>我们已经知道数组是一段连续储存的内存，当我们要将新元素插入到数组 k 的位置时呢?这个时候需要将 k 索引处之后的所有元素往后挪一位,并将 k 索引的位置插入新元素.</p> <p><img src="https://raw.githubusercontent.com/yayxs/Pics/master/img/20200426203256.png" alt="20200426203256"></p> <ul><li>删除</li></ul> <p>删除操作其实与插入很类似,同样我要删除数组之内的 k 索引位置的元素,我们就需要将其删除后,为了保持内存的连续性,需要将 k 之后的元素通通向前移动一位,这个情况的时间复杂度也是 O(n).</p> <ul><li>查找</li></ul> <p>比如我们要查找一个数组中是否存在一个为 2 的元素,那么计算机需要如何操作呢?</p> <p>如果是人的话,在少量数据的情况下我们自然可以一眼找到是否有 2 的元素,而计算机不是,计算机需要从索引 0 开始往下匹配,直到匹配到 2 的元素为止</p> <ul><li>读取</li></ul> <p>我们已经强调过数组的特点是拥有<strong>相同的数据类型</strong>和一块<strong>连续的线性内存</strong>,那么正是基于以上的特点,数组的读取性能非常的卓越,时间复杂度为 O(1),相比于链表、二叉树等数据结构,它的优势非常明显.</p> <p>那么数组是如何做到这么低的时间复杂度呢?</p> <p>假设我们的数组内存起始地址为<code>start</code>,而元素类型的长度为<code>size</code>,数组索引为<code>i</code>,那么我们很容易得到这个数组内存地址的寻址公式:</p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>_address <span class="token operator">=</span> start <span class="token operator">+</span> size <span class="token operator">*</span> i
</code></pre></div><p>比如我们要读取<code>arr[3]</code>的值,那么只需要把<code>3</code>代入寻址公式,计算机就可以一步查询到对应的元素,因此数组读取的时间复杂度只有 O(1).</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>JavaScript 中， <code>JSArray</code> 继承自 <code>JSObject</code> ，或者说它就是一个特殊的对象，内部是以 key-value 形式存储数据，所以 JavaScript 中的数组可以存放不同类型的值。它有两种存储方式，快数组与慢数组，初始化空数组时，使用快数组，快数组使用连续的内存空间，当数组长度达到最大时，<code>JSArray</code> 会进行动态的扩容，以存储更多的元素，相对慢数组，性能要好得多。当数组中 <code>hole</code> 太多时，会转变成慢数组，即以哈希表的方式（ key-value 的形式）存储数据，以节省内存空间。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">100000</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <h2 id="javascript-中的数组是如何存储的"><a href="#javascript-中的数组是如何存储的" class="header-anchor">#</a> JavaScript 中的数组是如何存储的</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>跟其他语言中的数组一样，ECMAScript 数组也是一组有序的数据，但跟其他语言不同的是，数组中每个槽位可以存储任意类型的数据。这意味着可以创建一个数组，它的第一个元素是字符串，第二个元素是数值，第三个是对象。ECMAScript 数组也是动态大小的，会随着数据添加而自动增长。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>其中常量<code>arr</code> 是存放在栈空间，存放的实际是 地址（一个指向 [] 的指针）</li></ul></div> <h2 id="数组的哪些-api-会改变原数组"><a href="#数组的哪些-api-会改变原数组" class="header-anchor">#</a> 数组的哪些 API 会改变原数组？</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <blockquote><p>push pop unshift shift splice</p></blockquote> <h3 id="基本api"><a href="#基本api" class="header-anchor">#</a> 基本api</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result
</code></pre></div><ul><li>push</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
arr <span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;第三个元素&quot;, &quot;第四个元素&quot;]</span>
</code></pre></div><ul><li>pop</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 第三个元素</span>

arr <span class="token punctuation">[</span><span class="token string">&quot;第一个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第二个元素&quot;</span><span class="token punctuation">]</span>

</code></pre></div><ul><li>unshift</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token string">&quot;第零个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第一个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第二个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第三个元素&quot;</span><span class="token punctuation">]</span>
<span class="token number">4</span>
</code></pre></div><ul><li>shift</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token string">&quot;第二个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第三个元素&quot;</span><span class="token punctuation">]</span>
<span class="token string">&quot;第一个元素&quot;</span>
</code></pre></div><ul><li>toString</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token string">&quot;第一个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第二个元素&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第三个元素&quot;</span><span class="token punctuation">]</span>
<span class="token comment">//   第一个元素,第二个元素,第三个元素</span>
</code></pre></div><h3 id="其他api"><a href="#其他api" class="header-anchor">#</a> 其他api</h3> <ul><li>splice</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result
result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'替换掉第三个元素'</span><span class="token punctuation">)</span>
<span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;替换掉第三个元素&quot;]</span>
<span class="token comment">// 原始的数组的length 3</span>
<span class="token comment">// api过后 [&quot;第三个元素&quot;]</span>
</code></pre></div><ul><li>slice 返回新数组副本</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result
result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//['第一个元素','第二个元素','第三个元素']</span>
result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ['第一个元素','第二个元素','第三个元素']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'原始的数组'</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span> <span class="token comment">// ['第一个元素','第二个元素','第三个元素']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'api过后'</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['第一个元素','第二个元素','第三个元素']</span>
</code></pre></div><ul><li>concat()</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result
result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'第四个'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'第五个'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'原始的数组'</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span> <span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;第三个元素&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'api过后'</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;第三个元素&quot;, &quot;第四个&quot;, &quot;第五个&quot;]</span>
</code></pre></div><ul><li>indexof</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result

result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;第三个元素&quot;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'原始的数组'</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span>  <span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;第三个元素&quot;]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'api过后'</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 索引 2</span>
</code></pre></div><ul><li>includes</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'第一个元素'</span><span class="token punctuation">,</span><span class="token string">'第二个元素'</span><span class="token punctuation">,</span><span class="token string">'第三个元素'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result

result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;第三个元素&quot;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'原始的数组'</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span>  <span class="token comment">// [&quot;第一个元素&quot;, &quot;第二个元素&quot;, &quot;第三个元素&quot;]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'api过后'</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></div> <h2 id="计算两个数组的交集"><a href="#计算两个数组的交集" class="header-anchor">#</a> 计算两个数组的交集</h2> <h2 id="类数组-伪数组-和数组的区别是什么"><a href="#类数组-伪数组-和数组的区别是什么" class="header-anchor">#</a> 类数组（伪数组）和数组的区别是什么？</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在浏览器和其它环境中有一种称为“类数组”的对象，它们 看似是数组。也就是说，它们有 length 和索引属性，但是也可能有其它的非数字的属性和方法，这通常是我们不需要的。for..in 循环会把它们都列出来。所以如果我们需要处理类数组对象，这些“额外”的属性就会存在问题。</p> <h3 id="类-伪-数组-arraylike"><a href="#类-伪-数组-arraylike" class="header-anchor">#</a> 类（伪）数组（arraylike）</h3> <ul><li><p>就是像数组的对象（某些对象看起来像但不是）</p></li> <li><p><strong>通过索引属性访问元素</strong></p></li> <li><p><strong>拥有 length</strong> 属性的对象</p></li> <li><p>underscore 中的定义</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token constant">MAX_ARRAY_INDEX</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> getLength <span class="token operator">=</span> <span class="token function">property</span><span class="token punctuation">(</span><span class="token string">&quot;length&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">isArrayLike</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token function">getLength</span><span class="token punctuation">(</span>collection<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token keyword">typeof</span> length <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> length <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> length <span class="token operator">&lt;=</span> <span class="token constant">MAX_ARRAY_INDEX</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 其中 JavaScript 中能精确表示的最大数字</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><strong>没有数组的方法</strong>（push forEach）</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>arrayLike<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 01.js:20 Uncaught TypeError: arrayLike.push is not a function</span>
</code></pre></div><h4 id="形式"><a href="#形式" class="header-anchor">#</a> 形式</h4> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>

array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;new name&quot;</span><span class="token punctuation">;</span>
arrayLike<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;new name&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// new name</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// new name</span>
</code></pre></div><h4 id="间接调用"><a href="#间接调用" class="header-anchor">#</a> 间接调用</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;name&quot;, &quot;age&quot;, &quot;sex&quot;]</span>
</code></pre></div><h4 id="转为真正的数组"><a href="#转为真正的数组" class="header-anchor">#</a> 转为真正的数组</h4> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <h2 id="判断一个-js-元素是否是数组"><a href="#判断一个-js-元素是否是数组" class="header-anchor">#</a> 判断一个 JS 元素是否是数组？</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <hr> <h2 id="title-判断数组的方法-如何检测数组"><a href="#title-判断数组的方法-如何检测数组" class="header-anchor">#</a> title: 判断数组的方法?如何检测数组</h2> <h2 id="instanceof-操作符"><a href="#instanceof-操作符" class="header-anchor">#</a> instanceof 操作符</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 操作数组</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>缺点 使用 instanceof 的问题是假定只有一个全局执行上下文。如果网页里有多个框架，则可能涉及两个不同的全局执行上下文，因此就会有两个不同版本的 Array 构造函数。如果要把数组从一个框架传给另一个框架，则这个数组的构造函数将有别于在第二个框架内本地创建的数组。</p></blockquote> <h2 id="array-isarray"><a href="#array-isarray" class="header-anchor">#</a> Array.isArray()</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 操作数组</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ECMAScript 提供了 Array.isArray()方法。这个方法的目的就是确定一个值是否为数组，而不用管它是在哪个全局执行上下文中创建的。</p></blockquote></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 判断是否是数组</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yayxs&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(arr.toString()) hello,yayxs</span>
<span class="token comment">// 常用于判断浏览器内置对象</span>
<span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span>

<span class="token comment">/**
 * String
 * Number
 * Symbol
 * Null
 * Undefi
 * Func
 * Obj
 */</span>
<span class="token comment">// 定义一个函数用来判断数据类型</span>

<span class="token keyword">function</span> <span class="token function">isWhatType</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> targets <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;yayxs&quot;</span><span class="token punctuation">,</span>
  <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;yayxs&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>targets<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> targets<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">isWhatType</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * [
 *'[object String]',
 *'[object Number]',
 *'[object Symbol]',
 *'[object Null]',
 *'[object Undefined]',
 *'[object Function]',
 *'[object Object]'
 *]
 */</span>
<span class="token comment">// 第二种方式通过判断对象的原型链中能不能找到</span>
<span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="使用sort对数组进行排序-3-15-8-29-102-22"><a href="#使用sort对数组进行排序-3-15-8-29-102-22" class="header-anchor">#</a> 使用sort对数组进行排序[3,15,8,29,102,22]</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noopener noreferrer">mdn 上的 sort<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p><strong><code>sort()</code> 方法用<a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener noreferrer">原地算法<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>对数组的元素进行排序，并返回数组。默认排序顺序是在将元素转换为字符串，然后比较它们的 UTF-16 代码单元值序列时构建的</strong></p> <ul><li>原地算法<a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener noreferrer">原地算法<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>将元素转为字符串,这些元素默认情况下被按字符串进行排序</li> <li>UTF-16</li></ul> <p><img src="https://i.loli.net/2020/04/20/E258fou79vS3iVa.png" alt="00.png"></p> <p>采用的<code>utf-16</code> ,常见的字符<code>数字</code> <code>英语大小写</code> <code>汉字</code>,在数组内进行排序，并不会生成新数组,整体按照：数字》英语大写》英语小写》汉字</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;你好世界&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;HELLO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">666</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

result <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'原始的数组'</span><span class="token punctuation">,</span>target<span class="token punctuation">)</span>  <span class="token comment">// [666, &quot;HELLO&quot;, &quot;hello&quot;, &quot;你好世界&quot;]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'api过后'</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [666, &quot;HELLO&quot;, &quot;hello&quot;, &quot;你好世界&quot;]</span>
</code></pre></div><p><strong>总结</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token comment">/**
     * Sorts an array.
     * @param compareFn Function used to determine the order of the elements. It is expected to return
     * a negative value if first argument is less than second argument, zero if they're equal and a positive
     * value otherwise. If omitted, the elements are sorted in ascending, ASCII character order.
     * ```ts
     * [11,2,22,1].sort((a, b) =&gt; a - b)
     * ```
     */</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>compareFn<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>阮老师 <a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" target="_blank" rel="noopener noreferrer">字符编码<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>步骤</p> <ul><li>转为字符串 数字&gt;英语大写&gt;英语小写&gt;汉字</li></ul> <p><img src="https://i.loli.net/2020/04/20/TwdWu5JmsyOSniC.png" alt="01.png"></p> <ul><li>对比第一个字符===&gt;15 102 29 22 3 8</li> <li>对比第二个字符===&gt;102 15 22 29 3 8</li> <li>对比第三个字符===&gt;102 15 22 29 3 8</li></ul></li> <li><p>案例</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">排序：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">----</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>排序：15----3
排序：8----15
排序：29----8
排序：102----29
排序：22----102
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">-</span> y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>15-3=12
8-15=-7
29-8=21
102-29=73
22-102=-80
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">-</span> y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>15-3=12
8-15=-7
8-15=-7
8-3=5
29-8=21
29-15=14
102-15=87
102-29=73
22-15=7
22-102=-80
22-29=-7
[ 3, 8, 15, 22, 29, 102 ]
</code></pre></div><ul><li>总结
<ul><li>返回值小于 0 x 移动到 y 前 升序 return x-y</li> <li>返回值大于 0 x 移动到 y 后 降序 return y-x</li> <li>返回值等于 0 大多浏览器相对不变</li></ul></li> <li>结果：</li></ul> <blockquote><p>[ 102, 15, 22, 29, 3, 8 ]</p></blockquote></div> <h2 id="数组里面有-10-万个数据-取第一个元素和第-10-万个元素的时间相差多少"><a href="#数组里面有-10-万个数据-取第一个元素和第-10-万个元素的时间相差多少" class="header-anchor">#</a> 数组里面有 10 万个数据，取第一个元素和第 10 万个元素的时间相差多少</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p></div> <h2 id="谈谈数组中的-push-方法"><a href="#谈谈数组中的-push-方法" class="header-anchor">#</a> 谈谈数组中的 push 方法</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <h3 id="数组中的length"><a href="#数组中的length" class="header-anchor">#</a> 数组中的length</h3> <p>准确来说，它实际上不是数组里元素的个数，而是最大的数字索引值加一。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> voidArr <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

voidArr<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;200&quot;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>voidArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 201</span>
</code></pre></div><h3 id="数组的-push"><a href="#数组的-push" class="header-anchor">#</a> 数组的 push</h3> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="noopener noreferrer">mdn 关于数组 push<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p><code>push</code> 方法具有通用性。该方法和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener noreferrer"><code>call()</code><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener noreferrer"><code>apply()</code><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 一起使用时，可应用在类似数组的对象上。<code>push</code> 方法根据 <code>length</code> 属性来决定从哪里开始插入给定的值。如果 <code>length</code> 不能被转成一个数值，则插入的元素索引为 0，包括 <code>length</code> 不存在时。当 <code>length</code> 不存在时，将会创建它。</p></blockquote> <blockquote><p>唯一的原生类数组（array-like）对象是 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener noreferrer"><code>Strings</code><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，尽管如此，它们并不适用该方法，因为字符串是不可改变的。</p></blockquote> <p><strong>大白话</strong></p> <p>其实 push 的时候会首先查询数组（伪数组）的 length 属性，接着在数组的最后一个添加上新的元素即 arr[length]</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> testObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;2&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token string">&quot;3&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  push<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

testObj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//// {2: 1, 3: 4, length: 3, push: ƒ}</span>
testObj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{2: 1, 3: 2, length: 4, push: ƒ}</span>
</code></pre></div><ul><li>第一点就是每次 push 后 length 会加 1</li></ul> <p><img src="https://i.loli.net/2020/04/20/FthL2egVXTCy6vk.png" alt="00.png"></p> <h3 id="splice-array-prototype-splice"><a href="#splice-array-prototype-splice" class="header-anchor">#</a> 'splice': Array.prototype.splice</h3> <ul><li><a href="https://github.com/ChromeDevTools/devtools-frontend/blob/master/front_end/event_listeners/EventListenersUtils.js#L330" target="_blank" rel="noopener noreferrer">在对象上加 splice<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {?Object} obj
 * @return {boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isArrayLike</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">.</span>splice <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> len <span class="token operator">=</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token keyword">typeof</span> len <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> len <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span> <span class="token operator">===</span> len <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>len <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">/</span> len <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>为什么对象添加了 splice 属性后并没有调用就会变成类数组对象这个问题，这是控制台中 DevTools 猜测类数组的一个方式</strong></p> <ul><li>存在且是对象</li> <li>对象上的<code>splice</code> 属性是函数类型</li> <li>对象上有 <code>length</code> 属性且为正整数</li></ul></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/js/ram.html" class="prev">
        JS中的内存泄漏的理解？
      </a></span> <span class="next"><a href="/guides/optimization/">
        性能优化常考面试题汇总
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.06527024.js" defer></script><script src="/assets/js/2.be1a4e3a.js" defer></script><script src="/assets/js/46.5800c7a9.js" defer></script>
  </body>
</html>
