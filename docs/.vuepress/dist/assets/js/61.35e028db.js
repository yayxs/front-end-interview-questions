(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{412:function(t,s,a){"use strict";a.r(s);var n=a(42),p=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("面试的时候，面试官会问"),a("code",[t._v("JS中的作用域是什么")]),t._v(" 要知道"),a("code",[t._v("作用域是什么")]),t._v(" 我们需要先了解几个简单的概念")]),t._v(" "),a("ul",[a("li",[t._v("编译原理 执行的过程一般会有三个步骤\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/6/16/172bd8191abf433b?w=802&h=486&f=png&s=27546",alt:"image"}})])]),t._v(" "),a("p",[t._v("其次的话是"),a("code",[t._v("引擎")]),t._v(" 查询变量的两种方式")]),t._v(" "),a("ul",[a("li",[t._v("一个是"),a("strong",[t._v("LHS 查询")])]),t._v(" "),a("li",[t._v("一个是"),a("strong",[t._v("RHS 查询")])])]),t._v(" "),a("p",[t._v("也就是说当变量出现在赋值操作的左侧进行 "),a("code",[t._v("LHS")]),t._v(" ；当出现在右侧时进行"),a("code",[t._v("RHS")]),t._v(" 一上来就搞这些乱起八遭的英文缩写，啥意思")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("以上的代码就是想得到 "),a("code",[t._v("a")]),t._v(" 的值，那就是——RHS")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("以上的代码给"),a("code",[t._v("a")]),t._v(" 赋值，那就是——LHS")]),t._v(" "),a("p",[t._v("那么说完查询的方式，跟作用域有什么用？其中从某种方式上来理解"),a("strong",[t._v("作用域便是查找变量的一套规范化的规则")])]),t._v(" "),a("p",[t._v("那如果我查找的引用无法在当前的作用域内完成怎么办，比如说")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b取值，想得到b的值，那就是RHS 那么引用的查找在当前的 foo无法完成")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("456")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/6/16/172bd9591dc641b6?w=464&h=411&f=png&s=9736",alt:"foo"}}),t._v(" "),a("p",[t._v("整个的一块就像是一栋大楼，然后不停的勇敢的向上走，我们如上提及的那栋大楼便是"),a("strong",[t._v("词法作用域")])]),t._v(" "),a("ul",[a("li",[t._v("一种是词法作用域")]),t._v(" "),a("li",[t._v("一种是动态作用域")])]),t._v(" "),a("p",[t._v("那我们重点聊的是"),a("code",[t._v("词法")]),t._v(" ，下面来看一段代码\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/6/16/172bda0752c43347?w=728&h=369&f=png&s=20385",alt:"foo"}})]),t._v(" "),a("p",[t._v("我们还不得不谈 "),a("code",[t._v("函数作用域")]),t._v(" 以及 "),a("code",[t._v("块作用域")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("生命每个函数都会自身创建一个笑脸")]),t._v(" "),a("p",[t._v("对于内部的实现我们是可以隐藏的，比如")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balabala\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("谁也不知道函数里干了啥，巴拉巴拉")]),t._v(" "),a("p",[t._v("当我们这样写的时候")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("I LOVE MEINV")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("我们社区给这种操作起了个骚气的名字"),a("code",[t._v("IIFE")]),t._v(" 即为 "),a("strong",[t._v("立即执行表达式")]),t._v("，在我们实际开发的时候是十分常见的")])]),t._v(" "),a("li",[a("p",[t._v("还有就是块作用域")]),t._v(" "),a("p",[t._v("那么什么情况下会形成块作用域")]),t._v(" "),a("ul",[a("li",[t._v("with 用 with 从对象中创建的作用域仅在 with 声明中而非外部 对with语句来说，会向作用域链前端添加指定的对象")]),t._v(" "),a("li",[t._v("try catch")])]),t._v(" "),a("p",[t._v("其中"),a("code",[t._v("catch")]),t._v(" 分句会创建一个块作用域 则会创建一个新的变量对象，这个变量对象会包含要抛出的错误对象的声明。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ReferenceError: error is not defined")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("let")]),t._v(" "),a("p",[t._v("为其声明的变量隐式的劫持了所在的块作用域")])]),t._v(" "),a("li",[a("p",[t._v("const")]),t._v(" "),a("p",[t._v("const 同样可以创建一个块级作用域")])])])])]),t._v(" "),a("h2",{attrs:{id:"作用域链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用域链"}},[t._v("#")]),t._v(" 作用域链")]),t._v(" "),a("p",[t._v("首先了解 "),a("RouterLink",{attrs:{to:"/guides/js/context.html"}},[t._v("执行上下文")]),t._v(" 上下文中的代码在执行的时候，会创建变量对象的一个作用域链（scope chain）。这个作用域链决定了各级上下文中的代码在访问变量和函数时的顺序。")],1)])}),[],!1,null,null,null);s.default=p.exports}}]);